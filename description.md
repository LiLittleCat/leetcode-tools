# LeetCode 题单管理工具

## 项目简介

这是一个命令行工具，用于管理 LeetCode（力扣）中文站的题单。通过这个工具，用户可以方便地创建、查看、编辑和删除题单，以及管理题单中的题目。工具采用交互式命令行界面，提供清晰的操作提示和美观的表格展示，让用户可以高效地管理自己的 LeetCode 题单。

## 主要功能

### 1. 题单管理

- 📝 创建新题单
  - 支持设置题单名称
  - 可选择公开或私有
  - 支持添加表情符号作为题单图标
- 🗑️ 删除题单
  - 支持删除自己创建的题单
  - 支持取消收藏他人的题单
  - 支持批量删除（带成功/失败统计）
- 👀 查看题单
  - 显示题单基本信息（名称、状态、最后更新时间等）
  - 分页展示题单中的题目列表
  - 支持查看更多题目
- ⭐ 收藏他人题单
  - 输入用户名查看其公开题单列表
  - 支持查看题单内的具体题目
  - 收藏操作需二次确认
- 📋 复制他人题单
  - 输入用户名查看其公开题单列表
  - 支持查看题单内的具体题目
  - 复制操作需二次确认
- ⭐ 题单分类显示
  - 我创建的题单
  - 我收藏的题单
  - 清晰的表格化展示

### 2. 题目管理

- ➕ 添加题目
  - 支持通过题目 ID 添加单个题目
  - 支持通过题目 slug 批量添加
  - 实时显示添加结果
- ➖ 删除题目
  - 支持单个删除
  - 支持批量删除所有题目
  - 提供删除确认机制
  - 显示删除操作的成功/失败统计

### 3. 信息展示

- 使用 PrettyTable 实现表格化展示
- 题单列表显示：
  - 编号（右对齐）
  - 题单类型（📝 创建/⭐ 收藏）
  - 题单名称（支持表情图标）
  - 状态（🔓 公开/🔒 私有）
  - 最后更新时间（格式化显示）
  - slug（用于系统识别）
- 题目列表显示：
  - 编号（右对齐）
  - 题号（右对齐）
  - 完成状态（✅ 已解决/⬜ 未解决）
  - 难度（🟢 简单/🟡 中等/🔴 困难）
  - 题目名称（带付费标记 🔒）
  - 题目 slug

## 技术特点

### 1. API 实现

- 使用 GraphQL API 与 LeetCode 交互
- 完整的 CRUD 操作支持
- 错误处理和友好的错误提示
- 支持批量操作的事务处理

### 2. 用户体验

- 交互式命令行界面
- 多级菜单导航系统
- 表格化数据展示
- 分页显示大量数据
- 详细的操作提示
- 操作确认机制
  - 收藏题单时二次确认
  - 复制题单时二次确认
  - 删除操作时二次确认
- 简化的返回操作
  - 查看题目后按回车键返回
  - 统一使用 'q' 返回上级菜单

### 3. 数据处理

- 支持批量操作并统计结果
- 实时更新数据显示
- 智能的时间格式化
- 多语言支持（中文题目名称）
- 数据验证和清理

## 环境要求

### 1. Python 依赖

- requests：处理 HTTP 请求
- prettytable：实现表格展示
- python-dotenv：管理环境变量
- typing：类型注解支持

### 2. 认证信息

需要在 `.env` 文件中配置：

```
csrftoken=你的csrftoken
LEETCODE_SESSION=你的LEETCODE_SESSION
```

## 使用说明

### 1. 初始配置

1. 登录 LeetCode 中文站 (leetcode.cn)
2. 从浏览器开发者工具获取 Cookie 信息
3. 在项目根目录创建 `.env` 文件
4. 配置认证信息

### 2. 操作流程

1. 启动程序后显示当前题单列表
2. 主菜单选项：
   - 1：📝 创建题单
   - 2：🗑️ 删除题单
   - 3：👀 查看题单
   - 4：➕ 新增题目
   - 5：➖ 删除题目
   - 6：⭐ 收藏他人题单
   - 7：📋 复制他人题单
3. 操作说明：
   - 在任何界面输入 'q' 可以返回上一级或退出程序
   - 批量操作时可以输入 'q' 中断操作
   - 所有需要确认的操作都可以用 'q' 取消

### 3. 注意事项

- 区分题目 ID 和题目编号
- 批量操作前会有确认提示
- 批量操作会显示成功和失败统计
- 在任何操作界面都可以使用 'q' 返回上级或退出
- 连续输入 'q' 可以快速退出程序

### 2. 操作问题

Q: 如何收藏别人的题单？
A: 在主菜单选择"收藏他人题单"，输入目标用户名后，可以查看该用户的所有公开题单。选择题单编号进行收藏，系统会要求确认操作。

Q: 如何复制别人的题单？
A: 在主菜单选择"复制他人题单"，输入目标用户名后，可以查看该用户的所有公开题单。选择题单编号进行复制，系统会要求确认操作。

Q: 如何查看他人题单的内容？
A: 在收藏或复制题单时，可以选择"查看题单内容"选项，输入题单编号即可查看具体题目列表。查看完成后按回车键返回。

Q: 如何获取用户名？
A: 可以从用户的个人主页 URL 中获取，通常是 leetcode.cn/u/用户名 的形式。

## 开发者信息

### 1. 代码结构

- LeetCodeClient 类：核心 API 实现
- 工具函数：
  - 时间格式化
  - 用户输入处理
  - 数据验证
- 展示函数：
  - 表格展示
  - 菜单显示
  - 进度反馈

### 2. 可扩展性

- 模块化设计
- 类型注解支持
- 完整的错误处理
- 可配置的显示选项
- 易于添加新功能

### 3. 安全性

- 环境变量管理敏感信息
- 用户输入验证和清理
- 操作确认机制
- 错误处理和恢复

## 更新日志

### 最新特性

- ✅ 批量操作成功/失败统计
- ✅ 优化的错误提示
- ✅ 改进的用户界面
- ✅ 完整的中文支持

### 待优化项

- 💡 支持更多排序方式
- 💡 添加题目难度筛选
- 💡 支持题目标签筛选
- 💡 支持模糊搜索
- 💡 支持导入/导出题单
- 💡 支持自定义表格显示字段

## 常见问题

### 1. 认证问题

Q: 如何获取 Cookie 信息？
A: 在浏览器中登录 LeetCode 中文站，从开发者工具的 Network 标签页中查看任意请求的 Cookie。

Q: Cookie 过期怎么办？
A: 重新登录获取新的 Cookie 并更新 `.env` 文件。

### 2. 操作问题

Q: 如何批量添加题目？
A: 使用题目 slug 方式，多个 slug 用逗号或空格分隔。

Q: 如何获取题目 ID？
A: 从题目页面的 URL 中获取，或使用题目 slug 方式。

Q: 批量操作失败怎么办？
A: 查看失败统计和具体失败原因，针对性解决。

## 贡献指南

欢迎提交 Issue 和 Pull Request 来改进这个工具。提交代码时请注意：

1. 遵循现有代码风格
2. 添加必要的注释
3. 更新相关文档
4. 添加适当的测试
5. 保持功能的向后兼容性

## 许可证

MIT License
